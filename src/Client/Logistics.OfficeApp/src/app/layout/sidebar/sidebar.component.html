<div class="sidebar" [ngClass]="{'minimized': !isOpened}">
  <a class="py-3 navbar-brand border-bottom">
    <img src="assets/images/logo.svg" class="img-fluid" height="40" alt="logo" />
    @if (isOpened) {
      <span class="h4">{{companyName}}</span>
    }
  </a>

  <ul class="nav flex-column mb-auto">
    <li>
      <a class="nav-link border-bottom" [routerLink]="['/home']">
        <i class="bi bi-house-door h1" pTooltip="Home"></i>
        @if (isOpened) {
          <span class="ms-2">Home</span>
        }
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link border-bottom" [routerLink]="['/dashboard']">
        <i class="bi bi-speedometer2 h1" pTooltip="Dashboard"></i>
        @if (isOpened) {
          <span class="ms-2">Dashboard</span>
        }
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link border-bottom" [routerLink]="['/loads']">
        <i class="bi bi-database h1" pTooltip="Loads"></i>
        @if (isOpened) {
          <span class="ms-2">Loads</span>
        }
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link border-bottom" [routerLink]="['/trucks']">
        <i class="bi bi-truck h1" pTooltip="Trucks"></i>
        @if (isOpened) {
          <span class="ms-2">Trucks</span>
        }
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link border-bottom" [routerLink]="['/employees']">
        <i class="bi bi-people h1" pTooltip="Employees"></i>
        @if (isOpened) {
          <span class="ms-2">Employees</span>
        }
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link border-bottom" [routerLink]="['/customers']">
        <i class="bi bi-building h1" pTooltip="Customers"></i>
        @if (isOpened) {
          <span class="ms-2">Customers</span>
        }
      </a>
    </li>
    <li class="nav-item">
      @if (isOpened) {
        <p-panelMenu [model]="accountingMenuItems"></p-panelMenu>
      }
      @else {
        <p-overlayPanel #accountingPanel>
          @for (item of accountingMenuItems[0].items; track item.label) {
            @if (!item.separator) {
              <div class="p-1">
                <p-button severity="secondary"
                  [text]="true"
                  [label]="item.label"
                  (click)="item?.command({})">
                </p-button>
              </div>
            }
          }
        </p-overlayPanel>
        <div class="text-center">
          <i (click)="accountingPanel.toggle($event)" class="bi bi-journal-text h1" pTooltip="Accounting" role="presentation"></i>
        </div>
      }
    </li>
    <li class="nav-item">
      <a class="nav-link border-bottom">
        @if (isOpened) {
          <i class="bi bi-arrow-left h1" (click)="toggle()" pTooltip="Minimize menu" role="presentation"></i>
        }
        @else {
          <i class="bi bi-arrow-right h1" (click)="toggle()" pTooltip="Maximize menu" role="presentation"></i>
        }
      </a>
    </li>
  </ul>

  @if (userFullName) {
    <div class="border-top mb-2">
      @if (userRole && isOpened) {
        <div class="px-3 pt-2">
          Role: <span class="fw-bold">{{userRole}}</span>
        </div>
      }

      @if (isOpened) {
        <p-panelMenu [model]="profileMenuItems"></p-panelMenu>
      }
      @else {
        <p-overlayPanel #profilePanel>
          @for (item of profileMenuItems[0].items; track item.label) {
            @if (!item.separator) {
              <div class="p-1">
                <p-button severity="secondary"
                  [text]="true"
                  [label]="item.label"
                  (click)="item?.command({})">
                </p-button>
              </div>
            }
          }
        </p-overlayPanel>
        <div class="text-center">
          <i (click)="profilePanel.toggle($event)" class="bi bi-person-circle h1" pTooltip="Account" role="presentation"></i>
        </div>
      }
    </div>
  }
</div>
