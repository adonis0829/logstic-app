@page "/tenants/{id?}"
@inherits PageBase

@{
    var headText = EditMode ? "Edit" : "Add a new";
    var submitBtnText = EditMode ? "Save" : "Submit";
}
<RadzenText TextStyle="TextStyle.H3">@headText Tenant</RadzenText>
<hr/>

<RadzenRow>
    <RadzenColumn Size="12" SizeMD="10" SizeLG="8" SizeXL="6">
        <RadzenCard>
            @if (IsLoading)
            {
                <RadzenProgressBarCircular Value="100"
                                           ShowValue="false"
                                           Mode="ProgressBarMode.Indeterminate">
                </RadzenProgressBarCircular>
            }

            <EditForm Model="Tenant" OnValidSubmit="UpdateAsync">
                <DataAnnotationsValidator/>
                <ValidationSummary/>

                <RadzenStack Orientation="Orientation.Vertical">
                    <RadzenFormField Text="Tenant Name" Variant="Variant.Outlined">
                        <RadzenTextBox @bind-Value="Tenant.Name"/>
                    </RadzenFormField>
                    <RadzenFormField Text="Company Name" Variant="Variant.Outlined">
                        <RadzenTextBox @bind-Value="Tenant.CompanyName"/>
                    </RadzenFormField>
                    <RadzenFieldset Text="Company Address">
                        <AddressForm @bind-Address="Tenant.CompanyAddress"></AddressForm>
                    </RadzenFieldset>
                    <RadzenStack Orientation="Orientation.Horizontal">
                        <RadzenButton Icon="save"
                                      Text="@submitBtnText"
                                      Disabled="@IsLoading"
                                      ButtonType="ButtonType.Submit">
                        </RadzenButton>
                        <RadzenButton Icon="arrow_back"
                                      Text="Back"
                                      Click="BackToTenantsPage">
                        </RadzenButton>
                    </RadzenStack>
                </RadzenStack>
            </EditForm>
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>
